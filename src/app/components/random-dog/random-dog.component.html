<div class="random-dog">
	<div class="image-container"
		 (swipeleft)="onSwipeLeft($event)"
		 (swiperight)="onSwipeRight($event)">
		<div [class]="{'hidden' : !(isLoadingMedia | async) || isError }">
			Loading next dog...
			<mat-progress-bar mode="indeterminate"></mat-progress-bar>
		</div>
		<div [class]="{'hidden' : !isError }">
			Dog-gone! Try another.
		</div>
		<div [class]="{'hidden' : (isLoadingMedia | async) || isError }">
			<div>
				<img [class]="{'hidden' : isVideo }"
					 [src]="randomDog.getUrl()"
					 (error)="!isVideo && onMediaError($event, 'media')"
					 (load)="onMediaLoad($event)">
				<video #videoPlayer
					   autoplay
					   controls
					   loop
					   muted
					   [class]="{'hidden' : !isVideo }"
					   [src]="randomDog.getUrl()"
					   (error)="isVideo && onMediaError($event, 'video')"
					   (load)="onMediaLoad($event)"></video>
			</div>
		</div>
	</div>

	<div class="details">
		<div>
			File size: {{randomDog.getFileSizeBytes() | number}} bytes
		</div>

		<button mat-raised-button
				color="primary"
				(click)="onRandomDogBtnClicked()">
			Random Dog
		</button>
	</div>
</div>